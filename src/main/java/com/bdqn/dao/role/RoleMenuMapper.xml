<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bdqn.dao.role.RoleMenuMapper">
    <select id="findTMenuByRoleID" resultType="TMenu" parameterType="integer">
        select tm.id,tm.parent_id,tm.menu_name text, tm.menu_url
        from tmenu tm, role_menu rm
        where tmenu.id = rm.menu_id
        and rm.role_id = #{roleID}
    </select>
    <select id="findTMenuByParentID" parameterType="integer" resultType="TMenu">
        SELECT tm.id,tm.parent_id,tm.menu_name text, tm.menu_url
        from tmenu tm, role_menu rm
        where tm.parent_id = #{parentID}
        and rm.role_id = #{roleID}
        and rm.menu_id = tm.id
    </select>
</mapper>